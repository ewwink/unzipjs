'use strict';class unzipjs{constructor(){this.values={next_code:new Uint16Array(16),bl_count:new Uint16Array(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new Uint16Array(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,
    0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new Uint32Array(32),flmap:new Uint16Array(512),fltree:[],fdmap:new Uint16Array(32),fdtree:[],lmap:new Uint16Array(32768),ltree:[],ttree:[],dmap:new Uint16Array(32768),dtree:[],imap:new Uint16Array(512),itree:[],rev15:new Uint16Array(32768),lhst:new Uint32Array(286),dhst:new Uint32Array(30),ihst:new Uint32Array(19),lits:new Uint32Array(15E3),strt:new Uint16Array(65536),prev:new Uint16Array(32768)};this.init()}parse(b,a=!1){var e=
    this.readUshort,f=this.readUint,c,g=[];b=new Uint8Array(b);for(c=b.length-4;101010256!=f(b,c);)c--;c=c+4+4;var d=e(b,c);c+=2;e(b,c);c+=2;f(b,c);c+=4;c=f(b,c);for(var m=0;m<d;m++){f(b,c);c+=4;c+=4;c+=4;c+=4;f(b,c);c+=4;var n=f(b,c);c+=4;var h=f(b,c);c+=4;var q=e(b,c),r=e(b,c+2),u=e(b,c+4);c+=6;c+=8;var p=f(b,c);c+=4;c+=q+r+u;this.readLocal(b,p,g,n,h,a)}return g}readLocal(b,a,e,f,c,g){var d=this.readUshort,m=this.readUint;m(b,a);a+=4;d(b,a);a+=2;d(b,a);a+=2;var n=d(b,a);a+=2;m(b,a);a+=4;m(b,a);a=a+
    4+8;m=d(b,a);a+=2;var h=d(b,a);a+=2;d=this.readUTF8(b,a,m);a+=m;a+=h;if(g)e[d]={size:c,csize:f};else if(b=new Uint8Array(b.buffer,a),0==n)e[d]=new Uint8Array(b.buffer.slice(a,a+f));else if(8==n)a=new Uint8Array(c),this.inflateRaw(b,a),e.push({name:d,buffer:a,toString:function(){let q="";try{q=(new TextDecoder("utf8",{fatal:!0})).decode(this.buffer)}catch{}return q}});else throw"unknown compression method: "+n;}inflateRaw(b,a){return this.F_inflate(b,a)}inflate(b,a){return this.inflateRaw(new Uint8Array(b.buffer,
    b.byteOffset+2,b.length-6),a)}readUshort(b,a){return b[a]|b[a+1]<<8}readUint(b,a){return 16777216*b[a+3]+(b[a+2]<<16|b[a+1]<<8|b[a])}readASCII(b,a,e){for(var f="",c=0;c<e;c++)f+=String.fromCharCode(b[a+c]);return f}pad(b){return 2>b.length?"0"+b:b}readUTF8(b,a,e){for(var f="",c,g=0;g<e;g++)f+="%"+this.pad(b[a+g].toString(16));try{c=decodeURIComponent(f)}catch(d){return this.readASCII(b,a,e)}return c}F_inflate(b,a){var e=Uint8Array;if(3==b[0]&&0==b[1])return a?a:new e(0);var f=this.bitsF,c=this.bitsE,
    g=this.get17,d=this.values,m=null==a;m&&(a=new e(b.length>>>2<<3));for(var n=0,h,q,r,u=0,p=q=0,k=0,t;0==n;)if(n=f(b,k,1),h=f(b,k+1,2),k+=3,0==h)0!=(k&7)&&(k+=8-(k&7)),k=(k>>>3)+4,h=b[k-4]|b[k-3]<<8,m&&(a=this._check(a,p+h)),a.set(new e(b.buffer,b.byteOffset+k,h),p),k=k+h<<3,p+=h;else{m&&(a=this._check(a,p+131072));1==h&&(r=d.flmap,t=d.fdmap,u=511,q=31);if(2==h){q=c(b,k,5)+257;h=c(b,k+5,5)+1;r=c(b,k+10,4)+4;k+=14;for(t=0;38>t;t+=2)d.itree[t]=0,d.itree[t+1]=0;u=1;for(t=0;t<r;t++){var l=c(b,k+3*t,3);
    d.itree[(d.ordr[t]<<1)+1]=l;l>u&&(u=l)}k+=3*r;this.makeCodes(d.itree,u);this.codes2map(d.itree,u,d.imap);r=d.lmap;t=d.dmap;k=this._decodeTiny(d.imap,(1<<u)-1,q+h,b,k,d.ttree);l=this._copyOut(d.ttree,0,q,d.ltree);u=(1<<l)-1;h=this._copyOut(d.ttree,q,h,d.dtree);q=(1<<h)-1;this.makeCodes(d.ltree,l);this.codes2map(d.ltree,l,r);this.makeCodes(d.dtree,h);this.codes2map(d.dtree,h,t)}for(;;)if(h=r[g(b,k)&u],k+=h&15,l=h>>>4,0==l>>>8)a[p++]=l;else if(256==l)break;else{h=p+l-254;264<l&&(l=d.ldef[l-257],h=p+
    (l>>>3)+c(b,k,l&7),k+=l&7);l=t[g(b,k)&q];k+=l&15;l=d.ddef[l>>>4];var v=(l>>>4)+f(b,k,l&15);k+=l&15;for(m&&(a=this._check(a,p+131072));p<h;)a[p]=a[p++-v],a[p]=a[p++-v],a[p]=a[p++-v],a[p]=a[p++-v];p=h}}return a.length==p?a:a.slice(0,p)}_check(b,a){var e=b.length;if(a<=e)return b;a=new Uint8Array(Math.max(e<<1,a));a.set(b,0);return a}_decodeTiny(b,a,e,f,c,g){for(var d=this.bitsE,m=this.get17,n=0;n<e;){var h=b[m(f,c)&a];c+=h&15;var q=h>>>4;if(15>=q)g[n]=q,n++;else{var r=h=0;16==q?(r=3+d(f,c,2),c+=2,h=
    g[n-1]):17==q?(r=3+d(f,c,3),c+=3):18==q&&(r=11+d(f,c,7),c+=7);for(q=n+r;n<q;)g[n]=h,n++}}return c}_copyOut(b,a,e,f){for(var c=0,g=0,d=f.length>>>1;g<e;){var m=b[g+a];f[g<<1]=0;f[(g<<1)+1]=m;m>c&&(c=m);g++}for(;g<d;)f[g<<1]=0,f[(g<<1)+1]=0,g++;return c}makeCodes(b,a){var e=this.values,f=b.length,c,g;var d=e.bl_count;for(c=0;c<=a;c++)d[c]=0;for(c=1;c<f;c+=2)d[b[c]]++;e=e.next_code;c=0;d[0]=0;for(g=1;g<=a;g++)c=c+d[g-1]<<1,e[g]=c;for(a=0;a<f;a+=2)d=b[a+1],0!=d&&(b[a]=e[d],e[d]++)}codes2map(b,a,e){for(var f=
    b.length,c=this.values.rev15,g=0;g<f;g+=2)if(0!=b[g+1]){var d=b[g+1],m=g>>1<<4|d,n=a-d;d=b[g]<<n;for(n=d+(1<<n);d!=n;)e[c[d]>>>15-a]=m,d++}}FrevCodes(b,a){for(var e=this.values.rev15,f=15-a,c=0;c<b.length;c+=2)b[c]=e[b[c]<<a-b[c+1]]>>>f}bitsE(b,a,e){return(b[a>>>3]|b[(a>>>3)+1]<<8)>>>(a&7)&(1<<e)-1}bitsF(b,a,e){return(b[a>>>3]|b[(a>>>3)+1]<<8|b[(a>>>3)+2]<<16)>>>(a&7)&(1<<e)-1}get17(b,a){return(b[a>>>3]|b[(a>>>3)+1]<<8|b[(a>>>3)+2]<<16)>>>(a&7)}init(){function b(c,g,d){for(;0!=g--;)c.push(0,d)}for(var a=
    this.values,e=0;32768>e;e++){var f=e;f=(f&2863311530)>>>1|(f&1431655765)<<1;f=(f&3435973836)>>>2|(f&858993459)<<2;f=(f&4042322160)>>>4|(f&252645135)<<4;f=(f&4278255360)>>>8|(f&16711935)<<8;a.rev15[e]=(f>>>16|f<<16)>>>17}for(e=0;32>e;e++)a.ldef[e]=a.of0[e]<<3|a.exb[e],a.ddef[e]=a.df0[e]<<4|a.dxb[e];b(a.fltree,144,8);b(a.fltree,112,9);b(a.fltree,24,7);b(a.fltree,8,8);this.makeCodes(a.fltree,9);this.codes2map(a.fltree,9,a.flmap);this.FrevCodes(a.fltree,9);b(a.fdtree,32,5);this.makeCodes(a.fdtree,5);
    this.codes2map(a.fdtree,5,a.fdmap);this.FrevCodes(a.fdtree,5);b(a.itree,19,0);b(a.ltree,286,0);b(a.dtree,30,0);b(a.ttree,320,0)}}"object"==typeof module&&(module.exports=new unzipjs);